{% extends "events/base.html" %}

{% block title %}
	<title> [EventsMap] Spis </title>
{% endblock %}

{% block bodyContent %}
	<div class="container">

		<div class= "row">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					<div class="navbar-header">
			 			<a class="navbar-brand" href="#">PERSONALIZOWANA MAPA KONCERTOWA</a>
					</div>

					<ul class="nav navbar-nav">
						<li><a href="/../../">Strona startowa</a></li>
						<li class= "active"><a href="#">Spis koncertów</a></li>
						<li><a href="/../../mainMap">Mapa wydarzeń</a></li>
						<li class="nav-link disabled"><a href="#">Widok szczegółowy</a></li>
						<li><a href="/../../about">O autorze</a></li>
					</ul>
				</div>
			</nav>			
		</div>

		<div class= "row">
			<div class="page-header">
				<h3>Tabelaryczne zestawienie wydarzen muzycznych</h3>
			</div>
		</div>

		<script>
			$(document).ready(function() {
			    $('#mainTable').DataTable({
			    	"paging":   false,
			    });
			} );
		</script>

		{% if all_events %}
			<table id="mainTable" class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>Wykonawca</th>
						<th>Data</th>
						<th>Miejsce</th>
						<th>Miasto</th>
						<th>Kraj</th>
					</tr>
				</thead>
				<tbody>
					{% for concert in all_events %}
						<tr>
							<td style="width:25%">
							<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
							<td style="width:10%">
							<a href="/../../details/byDate/{{concert.event_date}}">{{ concert.event_date|slice:":10" }}</a></td>
							<td style="width:25%">
							<a href="/../../details/place/{{concert.place}}">{{ concert.place }}</a></td>
							<td style="width:20%">
							<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
							<td style="width:20%">
							<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% else %}
		    <p>No events found.</p>
		{% endif %}
	</div>

{% endblock %}
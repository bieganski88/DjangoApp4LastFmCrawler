{% extends "events/baseMap.html" %}

{% block title %}
	<title> [EventsMap] Szczegóły </title>
{% endblock %}

{% block nav-details %}
	class="active"
{% endblock %}

{% block nav-map-href %}
	"/../../mainMap"
{% endblock %}

{% block subtitle %}
	Rezultat filtrowania - zawiera wybrane wydarzenia muzyczne dla {{value}}.
{% endblock %}

{% block content %}
	{% if data %}
	    {% if category in categoryList %}
	    <div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>Artysta</th>
						<th>Data</th>
						<th>Miejsce</th>
						<th>Miasto</th>
						<th>Kraj</th>
					</tr>
				</thead>
				<tbody>
				    {% for concert in data %}
				    	{% if category == 'country' %}
					    	{% if concert.country == value %}
					    		{% include "events/sub_addmarker.html" %}
					    		<tr>
									<td style="width:25%">
									<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
								 	<td style="width:15%">
								 	<a href="/../../details/byDate/{{concert.event_date}}">{{concert.event_date|slice:":10" }}</td>
									<td style="width:20%">
									<a href="/../../details/place/{{concert.place}}">{{concert.place}}</td>
									<td style="width:20%">
									<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
									<td style="width:20%">
									<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
								</tr>
						    {% endif %}

						{% elif category == 'city' %}
							{% if concert.city == value %}
								{% include "events/sub_addmarker.html" %}
					    		<tr>
									<td style="width:25%">
									<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
								 	<td style="width:15%">
								 	<a href="/../../details/byDate/{{concert.event_date}}">{{concert.event_date|slice:":10" }}</td>
									<td style="width:20%">
									<a href="/../../details/place/{{concert.place}}">{{concert.place}}</td>
									<td style="width:20%">
									<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
									<td style="width:20%">
									<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
								</tr>
							{% endif %}

						{% elif category == 'band' %}
							{% if concert.artist == value %}
								{% include "events/sub_addmarker.html" %}
					    		<tr>
									<td style="width:25%">
									<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
								 	<td style="width:15%">
								 	<a href="/../../details/byDate/{{concert.event_date}}">{{concert.event_date|slice:":10" }}</td>
									<td style="width:20%">
									<a href="/../../details/place/{{concert.place}}">{{concert.place}}</td>
									<td style="width:20%">
									<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
									<td style="width:20%">
									<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
								</tr>
							{% endif %}

						{% elif category == 'byDate' %}
							{% if concert.event_date == value %}
								{% include "events/sub_addmarker.html" %}
					    		<tr>
									<td style="width:25%">
									<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
								 	<td style="width:15%">
								 	<a href="/../../details/byDate/{{concert.event_date}}">{{concert.event_date|slice:":10" }}</td>
									<td style="width:20%">
									<a href="/../../details/place/{{concert.place}}">{{concert.place}}</td>
									<td style="width:20%">
									<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
									<td style="width:20%">
									<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
								</tr>
							{% endif %}

						{% elif category == 'place' %}
							{% if concert.place == value %}
								{% include "events/sub_addmarker.html" %}
					    		<tr>
									<td style="width:25%">
									<a href="/../../details/band/{{concert.artist}}">{{ concert.artist }}</a></td>
								 	<td style="width:15%">
								 	<a href="/../../details/byDate/{{concert.event_date}}">{{concert.event_date|slice:":10" }}</td>
									<td style="width:20%">
									<a href="/../../details/place/{{concert.place}}">{{concert.place}}</td>
									<td style="width:20%">
									<a href="/../../details/city/{{concert.city}}">{{concert.city}}</a></td>
									<td style="width:20%">
									<a href="/../../details/country/{{concert.country}}">{{concert.country}}</a></td>
								</tr>
							{% endif %}

						{% endif %}
				    {% endfor %}
				</tbody>
			</table>
		</div>

	    {% else %}
	    	<p>Nieprawidlowa wartosc kategorii.</p>
	    	<p>Dopuszczalne wartosci to:</p>
	    	<ul>
	    		<li>band</li>
	    		<li>city</li>
	    		<li>country</li>
	    	</ul>
	    {% endif %}

	{% else %}
	    <p>No events found.</p>
	{% endif %}
{% endblock %}